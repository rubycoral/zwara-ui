<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Zwara - Home</title>

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

  <!-- CSS Files -->
  <link rel="stylesheet" href="/css/global.css">
  <link rel="stylesheet" href="/css/header.css">
  <link rel="stylesheet" href="/css/hero.css">
  <link rel="stylesheet" href="/css/carousel.css">
  <link rel="stylesheet" href="/css/category_grid.css">
  <link rel="stylesheet" href="/css/cuisine_category.css">
  <link rel="stylesheet" href="/css/restaurants.css">
  <link rel="stylesheet" href="/css/offers.css">
  <link rel="stylesheet" href="/css/influencer.css">
  <link rel="stylesheet" href="/css/chocolate.css">
  <link rel="stylesheet" href="/css/mobileApp-section.css">
  <link rel="stylesheet" href="/css/footer.css">
</head>
<body>

  <!-- Header -->
  <div id="header"></div>

  <!-- Hero -->
  <div id="hero"></div>

  <!-- Carousel -->
  <div id="carousel"></div>

  <!-- Sections -->
  <div id="category-grid"></div>
  <div id="cuisine-category"></div>
  <div id="restaurants"></div>
  <div id="offers"></div>
  <div id="influencer"></div>
  <div id="pickedForYou"></div>
  <div id="chocolate"></div>
  <div id="deliciousDeal"></div>
  <div id="mobileApp-section"></div>

  <!-- Footer -->
  <div id="footer"></div>

  <!-- JS -->
  <script src="/js/carousel.js"></script>
  <script src="/js/cuisine_category.js"></script>
  <script src="/js/restaurants.js"></script>
  <script src="/js/offers.js"></script>

  <script>
    // Load HTML components
    async function loadComponent(id, file, headingText) {
      const res = await fetch(file);
      const html = await res.text();
      document.getElementById(id).innerHTML = html;

      // Optional heading override
      if (headingText) {
        const section = document.getElementById(id);
        const heading = section.querySelector(".section-heading");
        if (heading) heading.textContent = headingText;
      }
    }

    // Load all sections
    async function initPage() {
      await loadComponent('header', 'project/header.html');
      await loadComponent('hero', 'project/hero.html');

      await loadComponent('carousel', 'project/carousel.html');
      if (typeof initCarousel === 'function') {
        initCarousel('#cards-carousel');
      }

      await loadComponent('category-grid', 'project/category_grid.html');
      await loadComponent('cuisine-category', 'project/cuisine_category.html');
      await loadComponent('restaurants', 'project/restaurants.html', "Top Restaurants Near You");
      await loadComponent('offers', 'project/offers.html');
      await loadComponent('influencer', 'project/influencer.html');
      await loadComponent('pickedForYou', 'project/restaurants.html', "Picked For You");
      await loadComponent('chocolate', 'project/chocolate.html');
      await loadComponent('deliciousDeal', 'project/restaurants.html', "Delicious Deals");
      await loadComponent('mobileApp-section', 'project/mobileApp-section.html');
      await loadComponent('footer', 'project/footer.html');
    }

    initPage();

    // Header Scroll Behavior
    window.addEventListener("scroll", function () {
      const header = document.querySelector(".site-header");
      const logo = document.querySelector(".logo img");
      const hero = document.querySelector(".hero");

      if (!header || !logo || !hero) return;

      const heroHeight = hero.offsetHeight;
      const scrollY = window.scrollY;

      // Hide header while scrolling through hero
      if (scrollY > 50 && scrollY < heroHeight - 100) {
        header.classList.add("hidden");
        header.classList.remove("scrolled");
        logo.src = "/images/logo-white.svg";
      }
      // After hero: show white header
      else if (scrollY >= heroHeight - 100) {
        header.classList.remove("hidden");
        header.classList.add("scrolled");
        logo.src = "/images/logo-pink.png";
      }
      // Top of page: show pink header
      else {
        header.classList.remove("hidden", "scrolled");
        logo.src = "/images/logo-white.svg";
      }
    });
  </script>

</body>
</html>
